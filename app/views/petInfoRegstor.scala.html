@import helper._
@import forms.PetInfoRegistorForm
@import play.api.i18n.Messages
@import play.api.mvc.RequestHeader
@import play.twirl.api.Html
@import org.webjars.play.WebJarsUtil
@import controllers.AssetsFinder

@(errorFlg:Boolean
    ,genderList:List[Map[String,Any]]
    ,petKindList:List[Map[String,Any]]
    ,requestForm:Form[PetInfoRegistorForm]
    ,user: models.User
    ,send: play.api.mvc.Call)(implicit assetsFinder: AssetsFinder,
request: RequestHeader,
messagesProvider: MessagesProvider,
messages: Messages,
webJarsUtil: WebJarsUtil)

@main("ペット捜索情報入力", assetsFinder, webJarsUtil) {

@header("", Some(user))

<h2>登録画面</h2>
@if(errorFlg) {
迷子になったペットの情報を登録してください。
} else {
入力内容に誤りがあります。内容を確認して再度登録してください。
}
<br/>
<div class="container">

    @form(action = send,  'enctype -> "multipart/form-data"){
        <div class="form-group">
            <label id="nameLabel" class="control-label col-xl-6">ペットの名前</label>
            <div class="col-xl-6">
                @inputText(requestForm("name"), 'class -> "form-control" )
            </div>
        </div>
        <div class="form-group">
            <label id="petKindLabel" class="control-label col-xl-6">ペットの種類</label>
            <div class="col-xl-6">
                <select class="form-control" id="pet_kind_type" name="pet_kind_type">
                    @for(value <- petKindList) {
                    <option value=@value("pet_type") @if(requestForm("pet_kind_type").value.toString == value.get("pet_type").toString){selected}>@value("pet_kind_name")</option>
                    }
                </select>
            </div>
        </div>
        <div class="form-group">
            <label id="genderLabel" class="control-label col-xl-6">ペットの性別</label>
            <div class="col-xl-6">
                <select class="form-control" id="gender_type" name="gender_type">
                @for(value <- genderList) {
                    <option value=@value("gender") @if(requestForm("gender_type").value.toString == value.get("gender").toString){selected}>@value("gender_name")</option>
                }
                </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xl-6">
                @textarea(requestForm("feature"), 'class -> "form-control", 'rows -> "3",
                    'Placeholder -> "ペットの特徴を詳しく記入してください")
            </div>
            <p class="help-block">※1000文字以内で記述してください</p>
        </div>
        <div class="from-group">
            <label id="prefLabel" class="control-label col-xl-6">都道府県</label>
            @requestForm("pref").value
            <div class="col-xl-6">
                <select class="form-control" id="pref" name="pref">
                    <option value="" selected>選択してください</option>
                    <option value="1" @if(requestForm("pref").value == "1"){selected}>北海道</option>
                    <option value="2" @if(requestForm("pref").value == "2"){selected}>青森県</option>
                    <option value="3" @if(requestForm("pref").value == "3"){selected}>岩手県</option>
                    <option value="4" @if(requestForm("pref").value == "4"){selected}>宮城県</option>
                    <option value="5" @if(requestForm("pref").value == "5"){selected}>秋田県</option>
                    <option value="6" @if(requestForm("pref").value == "6"){selected}>山形県</option>
                    <option value="7" @if(requestForm("pref").value == "7"){selected}>福島県</option>
                    <option value="8" @if(requestForm("pref").value == "8"){selected}>茨城県</option>
                    <option value="9" @if(requestForm("pref").value == "9"){selected}>栃木県</option>
                    <option value="10" @if(requestForm("pref").value == "10"){selected}>群馬県</option>
                    <option value="11" @if(requestForm("pref").value == "11"){selected}>埼玉県</option>
                    <option value="12" @if(requestForm("pref").value.toString == "12"){selected}>千葉県</option>
                    <option value="13" @if(requestForm("pref").value == "13"){selected}>神奈川県</option>
                    <option value="14" @if(requestForm("pref").value == "14"){selected}>新潟県</option>
                    <option value="15" @if(requestForm("pref").value == "15"){selected}>富山県</option>
                    <option value="16" @if(requestForm("pref").value == "16"){selected}>石川県</option>
                    <option value="17" @if(requestForm("pref").value == "17"){selected}>福井県</option>
                    <option value="18" @if(requestForm("pref").value == "18"){selected}>山梨県</option>
                    <option value="19" @if(requestForm("pref").value == "19"){selected}>長野県</option>
                    <option value="20" @if(requestForm("pref").value == "20"){selected}>岐阜県</option>
                    <option value="21" @if(requestForm("pref").value == "21"){selected}>静岡県</option>
                    <option value="22" @if(requestForm("pref").value == "22"){selected}>愛知県</option>
                    <option value="23" @if(requestForm("pref").value == "23"){selected}>三重県</option>
                    <option value="24" @if(requestForm("pref").value == "24"){selected}>滋賀県</option>
                    <option value="25" @if(requestForm("pref").value == "25"){selected}>京都府</option>
                    <option value="26" @if(requestForm("pref").value == "26"){selected}>大阪府</option>
                    <option value="27" @if(requestForm("pref").value == "27"){selected}>兵庫県</option>
                    <option value="28" @if(requestForm("pref").value == "28"){selected}>奈良県</option>
                    <option value="29" @if(requestForm("pref").value == "29"){selected}>和歌山県</option>
                    <option value="30" @if(requestForm("pref").value == "30"){selected}>鳥取県</option>
                    <option value="31" @if(requestForm("pref").value == "31"){selected}>島根県</option>
                    <option value="32" @if(requestForm("pref").value == "32"){selected}>岡山県</option>
                    <option value="33" @if(requestForm("pref").value == "33"){selected}>広島県</option>
                    <option value="34" @if(requestForm("pref").value == "34"){selected}>山口県</option>
                    <option value="35" @if(requestForm("pref").value == "35"){selected}>徳島県</option>
                    <option value="36" @if(requestForm("pref").value == "36"){selected}>香川県</option>
                    <option value="37" @if(requestForm("pref").value == "37"){selected}>愛媛県</option>
                    <option value="38" @if(requestForm("pref").value == "38"){selected}>高知県</option>
                    <option value="39" @if(requestForm("pref").value == "39"){selected}>福岡県</option>
                    <option value="40" @if(requestForm("pref").value == "40"){selected}>佐賀県</option>
                    <option value="41" @if(requestForm("pref").value == "41"){selected}>長崎県</option>
                    <option value="42" @if(requestForm("pref").value == "42"){selected}>熊本県</option>
                    <option value="43" @if(requestForm("pref").value == "43"){selected}>大分県</option>
                    <option value="44" @if(requestForm("pref").value == "44"){selected}>宮崎県</option>
                    <option value="45" @if(requestForm("pref").value == "45"){selected}>鹿児島県</option>
                    <option value="46" @if(requestForm("pref").value == "46"){selected}>沖縄県</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label id="lostPlaceLabel" class="control-label col-xl-6">迷子になった場所</label>
            <div class="col-xl-6">
                @textarea(requestForm("lostPlace"), 'class -> "form-control", 'rows -> "3",
                'Placeholder -> "目印になるものを記載してください")
            </div>
            <p class="help-block">※1000文字以内で記述してください</p>
        </div>
        <p>住所や駅名、目印などで検索できます。</p>
            <input type="text" value="スカイツリー" id="address">
            <button type="button" value="検索" id="map_button">検索</button>
        <!-- 地図を表示させる要素 -->
        <div class="map_box01"><div id="map-canvas" style="width: 600px;height: 350px;"></div></div>

        <p>
            <input type="hidden" value="@requestForm("lat").value", id="lat" name="lat">
            <input type="hidden" value="@requestForm("lng").value", id="lng" name="lng">
            地図上をクリックするとマーカーを移動できます。
        </p>

        <hr>

        <br/>
        <div class="col-lg-offset-1 col-xl-6">
            <input type="submit" class="btn btn-primary" value="画像のアップロードへ進む"/>
        </div>
    }
</div>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6tS0tAb71DKpqpvrHzijoFVWrnISqgl8" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/petInfoRegstor.js")" type="text/javascript"></script>
}

