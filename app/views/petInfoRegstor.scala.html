@import helper._
@import forms.PetInfoRegistorForm
@import play.api.i18n.Messages
@import play.api.mvc.RequestHeader
@import play.twirl.api.Html
@import org.webjars.play.WebJarsUtil
@import controllers.AssetsFinder

@(errorFlg:Boolean
    ,genderList:List[Map[String,Any]]
    ,petKindList:List[Map[String,Any]]
    ,requestForm:Form[PetInfoRegistorForm]
    ,user: models.User
    ,send: play.api.mvc.Call)(implicit assetsFinder: AssetsFinder,
request: RequestHeader,
messagesProvider: MessagesProvider,
messages: Messages,
webJarsUtil: WebJarsUtil)

@main("ペット捜索情報入力", assetsFinder, webJarsUtil) {

@header("", Some(user))

<h2>登録画面</h2>
@if(errorFlg) {
迷子になったペットの情報を登録してください。
} else {
入力内容に誤りがあります。内容を確認して再度登録してください。
}
<br/>
<div class="container">

    @form(action = send,  'enctype -> "multipart/form-data"){
        <div class="form-group">
            <label id="nameLabel" class="control-label col-xl-6">ペットの名前</label>
            <div class="col-xl-6">
                @inputText(requestForm("name"), 'class -> "form-control" )
            </div>
        </div>
        <div class="form-group">
            <label id="petKindLabel" class="control-label col-xl-6">ペットの種類</label>
            <div class="col-xl-6">
                <select class="form-control" id="pet_kind_type" name="pet_kind_type">
                    @for(value <- petKindList) {
                    <option value=@value("pet_type") @if(requestForm("pet_kind_type").value.toString == value.get("pet_type").toString){selected}>@value("pet_kind_name")</option>
                    }
                </select>
            </div>
        </div>
        <div class="form-group">
            <label id="genderLabel" class="control-label col-xl-6">ペットの性別</label>
            <div class="col-xl-6">
                <select class="form-control" id="gender_type" name="gender_type">
                @for(value <- genderList) {
                    <option value=@value("gender") @if(requestForm("gender_type").value.toString == value.get("gender").toString){selected}>@value("gender_name")</option>
                }
                </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xl-6">
                @textarea(requestForm("feature"), 'class -> "form-control", 'rows -> "3",
                    'Placeholder -> "ペットの特徴を詳しく記入してください")
            </div>
            <p class="help-block">※1000文字以内で記述してください</p>
        </div>
        <div class="from-group">
            <label id="prefLabel" class="control-label col-xl-6">都道府県</label>
            @requestForm("pref").value
            <div class="col-xl-6">
                <select class="form-control" id="pref" name="pref">
                    <option value="" selected>選択してください</option>
                    <option value="1" @if(requestForm("pref").value == "1"){selected}>北海道</option>
                    <option value="2" @if(requestForm("pref").value == "2"){selected}>青森県</option>
                    <option value="3" @if(requestForm("pref").value == "3"){selected}>岩手県</option>
                    <option value="4" @if(requestForm("pref").value == "4"){selected}>宮城県</option>
                    <option value="5" @if(requestForm("pref").value == "5"){selected}>秋田県</option>
                    <option value="6" @if(requestForm("pref").value == "6"){selected}>山形県</option>
                    <option value="7" @if(requestForm("pref").value == "7"){selected}>福島県</option>
                    <option value="8" @if(requestForm("pref").value == "8"){selected}>茨城県</option>
                    <option value="9" @if(requestForm("pref").value == "9"){selected}>栃木県</option>
                    <option value="10" @if(requestForm("pref").value == "10"){selected}>群馬県</option>
                    <option value="11" @if(requestForm("pref").value == "11"){selected}>埼玉県</option>
                    <option value="12" @if(requestForm("pref").value.toString == "12"){selected}>千葉県</option>
                    <option value="13" @if(requestForm("pref").value == "13"){selected}>神奈川県</option>
                    <option value="14" @if(requestForm("pref").value == "14"){selected}>新潟県</option>
                    <option value="15" @if(requestForm("pref").value == "15"){selected}>富山県</option>
                    <option value="16" @if(requestForm("pref").value == "16"){selected}>石川県</option>
                    <option value="17" @if(requestForm("pref").value == "17"){selected}>福井県</option>
                    <option value="18" @if(requestForm("pref").value == "18"){selected}>山梨県</option>
                    <option value="19" @if(requestForm("pref").value == "19"){selected}>長野県</option>
                    <option value="20" @if(requestForm("pref").value == "20"){selected}>岐阜県</option>
                    <option value="21" @if(requestForm("pref").value == "21"){selected}>静岡県</option>
                    <option value="22" @if(requestForm("pref").value == "22"){selected}>愛知県</option>
                    <option value="23" @if(requestForm("pref").value == "23"){selected}>三重県</option>
                    <option value="24" @if(requestForm("pref").value == "24"){selected}>滋賀県</option>
                    <option value="25" @if(requestForm("pref").value == "25"){selected}>京都府</option>
                    <option value="26" @if(requestForm("pref").value == "26"){selected}>大阪府</option>
                    <option value="27" @if(requestForm("pref").value == "27"){selected}>兵庫県</option>
                    <option value="28" @if(requestForm("pref").value == "28"){selected}>奈良県</option>
                    <option value="29" @if(requestForm("pref").value == "29"){selected}>和歌山県</option>
                    <option value="30" @if(requestForm("pref").value == "30"){selected}>鳥取県</option>
                    <option value="31" @if(requestForm("pref").value == "31"){selected}>島根県</option>
                    <option value="32" @if(requestForm("pref").value == "32"){selected}>岡山県</option>
                    <option value="33" @if(requestForm("pref").value == "33"){selected}>広島県</option>
                    <option value="34" @if(requestForm("pref").value == "34"){selected}>山口県</option>
                    <option value="35" @if(requestForm("pref").value == "35"){selected}>徳島県</option>
                    <option value="36" @if(requestForm("pref").value == "36"){selected}>香川県</option>
                    <option value="37" @if(requestForm("pref").value == "37"){selected}>愛媛県</option>
                    <option value="38" @if(requestForm("pref").value == "38"){selected}>高知県</option>
                    <option value="39" @if(requestForm("pref").value == "39"){selected}>福岡県</option>
                    <option value="40" @if(requestForm("pref").value == "40"){selected}>佐賀県</option>
                    <option value="41" @if(requestForm("pref").value == "41"){selected}>長崎県</option>
                    <option value="42" @if(requestForm("pref").value == "42"){selected}>熊本県</option>
                    <option value="43" @if(requestForm("pref").value == "43"){selected}>大分県</option>
                    <option value="44" @if(requestForm("pref").value == "44"){selected}>宮崎県</option>
                    <option value="45" @if(requestForm("pref").value == "45"){selected}>鹿児島県</option>
                    <option value="46" @if(requestForm("pref").value == "46"){selected}>沖縄県</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label id="lostPlaceLabel" class="control-label col-xl-6">迷子になった場所</label>
            <div class="col-xl-6">
                @textarea(requestForm("lostPlace"), 'class -> "form-control", 'rows -> "3",
                'Placeholder -> "目印になるものを記載してください")
            </div>
            <p class="help-block">※1000文字以内で記述してください</p>
        </div>
        <p>住所や駅名、目印などで検索できます。</p>
            <input type="text" value="スカイツリー" id="address">
            <button type="button" value="検索" id="map_button">検索</button>
        <!-- 地図を表示させる要素 -->
        <div class="map_box01"><div id="map-canvas" style="width: 600px;height: 350px;"></div></div>

        <p>
            <input type="hidden" value="@requestForm("lat").value", id="lat" name="lat">
            <input type="hidden" value="@requestForm("lng").value", id="lng" name="lng">
            地図上をクリックするとマーカーを移動できます。
        </p>

        <div class="form-group">
            <label id="pictureLabel" class="control-label col-xl-6">ペットの写真をアップする</label>
            <div class="col-xl-6">
                <input type="file" name="petImg" id="petImg">
                <img id="img1" style="width:300px;height:300px;" />
            </div>
        </div>
        <hr>
        <div class="form-group">
            <input type="checkbox" name="kiyaku">利用規約に同意する
            <!-- 切り替えボタンの設定 -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">
                利用規約を表示する
            </button>

            <!-- モーダルの設定 -->
            <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">利用規約</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="閉じる">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
<h1>利用規約</h1>

<p>この利用規約（以下，「本規約」といいます。）は，celalink（以下，「当社」といいます。）がこのウェブサイト上で提供するサービス（以下，「本サービス」といいます。）の利用条件を定めるものです。登録ユーザーの皆さま（以下，「ユーザー」といいます。）には，本規約に従って，本サービスをご利用いただきます。</p>

<h2>第1条（適用）</h2>
<p>本規約は，ユーザーと当社との間の本サービスの利用に関わる一切の関係に適用されるものとします。</p>

<h2>第2条（利用登録）</h2>
<ul>
    <li>登録希望者が当社の定める方法によって利用登録を申請し，当社がこれを承認することによって，利用登録が完了するものとします。</li>
    <li>当社は，利用登録の申請者に以下の事由があると判断した場合，利用登録の申請を承認しないことがあり，その理由については一切の開示義務を負わないものとします。
        <ul>
            <li>（1）利用登録の申請に際して虚偽の事項を届け出た場合</li>
            <li>（2）本規約に違反したことがある者からの申請である場合</li>
            <li>（3）未成年者，成年被後見人，被保佐人または被補助人のいずれかであり，法定代理人，後見人，保佐人または補助人の同意等を得ていなかった場合</li>
            <li>（4）反社会的勢力等（暴力団，暴力団員，右翼団体，反社会的勢力，その他これに準ずる者を意味します。）である，または資金提供その他を通じて反社会的勢力等の維持，運営もしくは経営に協力もしくは関与する等反社会的勢力との何らかの交流もしくは関与を行っていると当社が判断した場合</li>
            <li>（5）その他，当社が利用登録を相当でないと判断した場合</li>
        </ul></li>
</ul>

<h2>第3条（ユーザーIDおよびパスワードの管理）</h2>
<ul>
    <li>ユーザーは，自己の責任において，本サービスのユーザーIDおよびパスワードを管理するものとします。</li>
    <li>ユーザーは，いかなる場合にも，ユーザーIDおよびパスワードを第三者に譲渡または貸与することはできません。当社は，ユーザーIDとパスワードの組み合わせが登録情報と一致してログインされた場合には，そのユーザーIDを登録しているユーザー自身による利用とみなします。</li>
</ul>

<h2>第4条（利用料金および支払方法）</h2>
<ul>
    <li>ユーザーは，本サービス利用の対価として，当社が別途定め，本ウェブサイトに表示する利用料金を，当社が指定する方法により支払うものとします。</li>
    <li>ユーザーが利用料金の支払を遅滞した場合には，ユーザーは年14．6％の割合による遅延損害金を支払うものとします。</li>
</ul>

<h2>第5条（禁止事項）</h2>
<p>ユーザーは，本サービスの利用にあたり，以下の行為をしてはなりません。</p>
<ul class="child">
    <li>（1）法令または公序良俗に違反する行為</li>
    <li>（2）犯罪行為に関連する行為</li>
    <li>（3）当社のサーバーまたはネットワークの機能を破壊したり，妨害したりする行為</li>
    <li>（4）当社のサービスの運営を妨害するおそれのある行為</li>
    <li>（5）他のユーザーに関する個人情報等を収集または蓄積する行為</li>
    <li>（6）他のユーザーに成りすます行為</li>
    <li>（7）当社のサービスに関連して，反社会的勢力に対して直接または間接に利益を供与する行為</li>
    <li>（8）当社，本サービスの他の利用者または第三者の知的財産権，肖像権，プライバシー，名誉その他の権利または利益を侵害する行為</li>
    <li>（9）過度に暴力的な表現，露骨な性的表現，人種，国籍，信条，性別，社会的身分，門地等による差別につながる表現，自殺，自傷行為，薬物乱用を誘引または助長する表現，その他反社会的な内容を含み他人に不快感を与える表現を，投稿または送信する行為</li>
    <li>（10）営業，宣伝，広告，勧誘，その他営利を目的とする行為（当社の認めたものを除きます。），性行為やわいせつな行為を目的とする行為，面識のない異性との出会いや交際を目的とする行為，他のお客様に対する嫌がらせや誹謗中傷を目的とする行為，その他本サービスが予定している利用目的と異なる目的で本サービスを利用する行為</li>
    <li>（11）宗教活動または宗教団体への勧誘行為</li>
    <li>（12）その他，当社が不適切と判断する行為</li>
</ul>

<h2>第6条（本サービスの提供の停止等）</h2>
<ul>
    <li>当社は，以下のいずれかの事由があると判断した場合，ユーザーに事前に通知することなく本サービスの全部または一部の提供を停止または中断することができるものとします。
        <ul>
            <li>（1）本サービスにかかるコンピュータシステムの保守点検または更新を行う場合</li>
            <li>（2）地震，落雷，火災，停電または天災などの不可抗力により，本サービスの提供が困難となった場合</li>
            <li>（3）コンピュータまたは通信回線等が事故により停止した場合</li>
            <li>（4）その他，当社が本サービスの提供が困難と判断した場合</li>
        </ul></li>
    <li>当社は，本サービスの提供の停止または中断により，ユーザーまたは第三者が被ったいかなる不利益または損害について，理由を問わず一切の責任を負わないものとします。</li>
</ul>

<h2>第7条（著作権）</h2>
<ul>
    <li>ユーザーは，自ら著作権等の必要な知的財産権を有するか，または必要な権利者の許諾を得た文章，画像や映像等の情報のみ，本サービスを利用し，投稿または編集することができるものとします。</li>
    <li>ユーザーが本サービスを利用して投稿または編集した文章，画像，映像等の著作権については，当該ユーザーその他既存の権利者に留保されるものとします。ただし，当社は，本サービスを利用して投稿または編集された文章，画像，映像等を利用できるものとし，ユーザーは，この利用に関して，著作者人格権を行使しないものとします。</li>
    <li>前項本文の定めるものを除き，本サービスおよび本サービスに関連する一切の情報についての著作権およびその他知的財産権はすべて当社または当社にその利用を許諾した権利者に帰属し，ユーザーは無断で複製，譲渡，貸与，翻訳，改変，転載，公衆送信（送信可能化を含みます。），伝送，配布，出版，営業使用等をしてはならないものとします。</li>
</ul>

<h2>第8条（利用制限および登録抹消）</h2>
<ul>
    <li>当社は，以下の場合には，事前の通知なく，投稿データを削除し，ユーザーに対して本サービスの全部もしくは一部の利用を制限しまたはユーザーとしての登録を抹消することができるものとします。
        <ul>
            <li>（1）本規約のいずれかの条項に違反した場合</li>
            <li>（2）登録事項に虚偽の事実があることが判明した場合</li>
            <li>（3）破産，民事再生，会社更生または特別清算の手続開始決定等の申立がなされたとき</li>
            <li>（4）1年間以上本サービスの利用がない場合</li>
            <li>（5）当社からの問い合わせその他の回答を求める連絡に対して30日間以上応答がない場合</li>
            <li>（6）第2条第2項各号に該当する場合</li>
            <li>（7）その他，当社が本サービスの利用を適当でないと判断した場合</li>
        </ul></li>
    <li>前項各号のいずれかに該当した場合，ユーザーは，当然に当社に対する一切の債務について期限の利益を失い，その時点において負担する一切の債務を直ちに一括して弁済しなければなりません。</li>
    <li>当社は，本条に基づき当社が行った行為によりユーザーに生じた損害について，一切の責任を負いません。</li>
</ul>

<h2>第9条（保証の否認および免責事項）</h2>
<ul>
    <li>当社は，本サービスに事実上または法律上の瑕疵（安全性，信頼性，正確性，完全性，有効性，特定の目的への適合性，セキュリティなどに関する欠陥，エラーやバグ，権利侵害などを含みます。）がないことを明示的にも黙示的にも保証しておりません。</li>
    <li>当社は，本サービスに起因してユーザーに生じたあらゆる損害について一切の責任を負いません。ただし，本サービスに関する当社とユーザーとの間の契約（本規約を含みます。）が消費者契約法に定める消費者契約となる場合，この免責規定は適用されません。</li>
    <li>前項ただし書に定める場合であっても，当社は，当社の過失（重過失を除きます。）による債務不履行または不法行為によりユーザーに生じた損害のうち特別な事情から生じた損害（当社またはユーザーが損害発生につき予見し，または予見し得た場合を含みます。）について一切の責任を負いません。また，当社の過失（重過失を除きます。）による債務不履行または不法行為によりユーザーに生じた損害の賠償は，ユーザーから当該損害が発生した月に受領した利用料の額を上限とします。</li>
    <li>当社は，本サービスに関して，ユーザーと他のユーザーまたは第三者との間において生じた取引，連絡または紛争等について一切責任を負いません。</li>
</ul>

<h2>第10条（サービス内容の変更等）</h2>
<p>当社は，ユーザーに通知することなく，本サービスの内容を変更しまたは本サービスの提供を中止することができるものとし，これによってユーザーに生じた損害について一切の責任を負いません。</p>

<h2>第11条（利用規約の変更）</h2>
<p>当社は，必要と判断した場合には，ユーザーに通知することなくいつでも本規約を変更することができるものとします。</p>

<h2>第12条（通知または連絡）</h2>
<p>ユーザーと当社との間の通知または連絡は，当社の定める方法によって行うものとします。</p>

<h2>第13条（権利義務の譲渡の禁止）</h2>
<p>ユーザーは，当社の書面による事前の承諾なく，利用契約上の地位または本規約に基づく権利もしくは義務を第三者に譲渡し，または担保に供することはできません。</p>

<h2>第14条（準拠法・裁判管轄）</h2>
<ul>
    <li>本規約の解釈にあたっては，日本法を準拠法とします。</li>
    <li>本サービスに関して紛争が生じた場合には，当社の本店所在地を管轄する裁判所を専属的合意管轄とします。</li>
</ul>

<p class="tR">以上</p>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">閉じる</button>
                        </div>
                    </div>
                </div>
            </div>
            <br/>
            <br/>
            <div class="col-lg-offset-1 col-xl-6">
                @if(request.target.path == "/petInfoRegistor") {
                <input type="submit" id="regist" class="btn btn-primary" value="登録"/>
                } else {
                <input type="submit" id="edit" class="btn btn-primary" value="更新"/>
                }
            </div>
        </div>
    }
</div>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6tS0tAb71DKpqpvrHzijoFVWrnISqgl8" type="text/javascript"></script>
<script src="@routes.Assets.versioned("javascripts/petInfoRegstor.js")" type="text/javascript"></script>
}

