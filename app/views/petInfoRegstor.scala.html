@import helper._
@import forms.PetInfoRegistorForm
@(errorFlg:Boolean
    ,genderList:List[Map[String,Any]]
    ,petKindList:List[Map[String,Any]]
    ,requestForm:Form[PetInfoRegistorForm])(implicit assetsFinder: AssetsFinder,request: RequestHeader, messagesProvider: MessagesProvider)
<!--@implicitField = @{ FieldConstructor(plainFieldConstructor.f) }-->

<script src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
$(function(){
  $('#petImg').change(function(e){
    //ファイルオブジェクトを取得する
    var file = e.target.files[0];
    var reader = new FileReader();

    //画像でない場合は処理終了
    if(file.type.indexOf("image") < 0){
      alert("画像ファイルを指定してください。");
      return false;
    }

    //アップロードした画像を設定する
    reader.onload = (function(file){
      return function(e){
        $("#img1").attr("src", e.target.result);
        $("#img1").attr("title", file.name);
      };
    })(file);
    reader.readAsDataURL(file);

  });
});


</script>
<script type="text/javascript"><!--
function openKiyaku() {
    window.open("/kiyaku","window1","width=600,height=600");
}
// --></script>

@main("ペット捜索情報入力", assetsFinder) {
<h2>登録画面</h2>
@if(errorFlg) {
迷子になったペットの情報を登録してください。
} else {
入力内容に誤りがあります。内容を確認して再度登録してください。
}
<br/>
<div class="container">
    @form(action = routes.PetInfoRegistorController.regist, 'enctype -> "multipart/form-data"){
        <div class="form-group">
            <label id="nameLabel" class="control-label col-lg-4">ペットの名前</label>
            <div class="col-lg-5">
                @inputText(requestForm("name"), 'class -> "form-control" )
            </div>
        </div>
        <div class="form-group">
            <label id="petKindLabel" class="control-label col-lg-4">ペットの種類</label>
            <div class="col-lg-5">
                <select class="form-control" id="pet_kind_type" name="pet_kind_type">
                    @for(value <- petKindList) {
                    <option value=@value("pet_type")>@value("pet_kind_name")</option>
                    }
                </select>
            </div>
        </div>
        <div class="form-group">
            <label id="genderLabel" class="control-label col-lg-4">ペットの性別</label>
            <div class="col-lg-5">
                <select class="form-control" id="gender_type" name="gender_type">
                @for(value <- genderList) {
                    <option value=@value("gender")>@value("gender_name")</option>
                }
                </select>
                <!--
                @select(
                    field = requestForm("gender_type"),
                    options = Seq(
                        "あああ" -> "あああ"
                /*
                        for(value <- petKindList) {
                            value("gender") -> value("gender_name")
                        }
                */
                    )
                )
                -->
            </div>
        </div>
        <div class="form-group">
            <label id="featureLabel" class="control-label col-lg-4">ペットの特徴</label>
            <div class="col-lg-5">
                @textarea(requestForm("feature"), 'class -> "form-control", 'rows -> "3",
                    'Placeholder -> "ペットの特徴を詳しく記入してください")
            </div>
            <p class="help-block">※1000文字以内で記述してください</p>
        </div>
        <div class="from-group">
            <label id="prefLabel" class="control-label col-lg-4">都道府県</label>
            <div class="col-lg-5">
                <select class="form-control" id="pref" name="pref">
                    <option value="" selected>選択してください</option>
                    <option value="1">北海道</option>
                    <option value="2">青森県</option>
                    <option value="3">岩手県</option>
                    <option value="4">宮城県</option>
                    <option value="5">秋田県</option>
                    <option value="6">山形県</option>
                    <option value="7">福島県</option>
                    <option value="8">茨城県</option>
                    <option value="9">栃木県</option>
                    <option value="10">群馬県</option>
                    <option value="11">埼玉県</option>
                    <option value="12">千葉県</option>
                    <option value="13">東京都</option>
                    <option value="14">神奈川県</option>
                    <option value="15">新潟県</option>
                    <option value="16">富山県</option>
                    <option value="17">石川県</option>
                    <option value="18">福井県</option>
                    <option value="19">山梨県</option>
                    <option value="20">長野県</option>
                    <option value="21">岐阜県</option>
                    <option value="22">静岡県</option>
                    <option value="23">愛知県</option>
                    <option value="24">三重県</option>
                    <option value="25">滋賀県</option>
                    <option value="26">京都府</option>
                    <option value="27">大阪府</option>
                    <option value="28">兵庫県</option>
                    <option value="29">奈良県</option>
                    <option value="30">和歌山県</option>
                    <option value="31">鳥取県</option>
                    <option value="32">島根県</option>
                    <option value="33">岡山県</option>
                    <option value="34">広島県</option>
                    <option value="35">山口県</option>
                    <option value="36">徳島県</option>
                    <option value="37">香川県</option>
                    <option value="38">愛媛県</option>
                    <option value="39">高知県</option>
                    <option value="40">福岡県</option>
                    <option value="41">佐賀県</option>
                    <option value="42">長崎県</option>
                    <option value="43">熊本県</option>
                    <option value="44">大分県</option>
                    <option value="45">宮崎県</option>
                    <option value="46">鹿児島県</option>
                    <option value="47">沖縄県</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label id="lostPlaceLabel" class="control-label col-lg-4">迷子になった場所</label>
            <div class="col-lg-5">
                @textarea(requestForm("lostPlace"), 'class -> "form-control", 'rows -> "3",
                'Placeholder -> "目印になるものを記載してください")
            </div>
            <p class="help-block">※1000文字以内で記述してください</p>
        </div>
        <div class="form-group">
            <label id="pictureLabel" class="control-label col-lg-4">ペットの写真をアップする</label>
            <div class="col-lg-5">
                <input type="file" name="petImg" id="petImg">
                <img id="img1" style="width:300px;height:300px;" />
            </div>
        </div>
        <hr>
        <div class="form-group">
            <input type="checkbox" name="kiyaku">利用規約に同意する
            <a href="javascript:openKiyaku();">利用規約はこちら</a>
            <br/>
            <br/>
            <div class="col-lg-offset-1 col-xs-1">
                <input type="button" class="btn btn-primary" value="一覧画面へ戻る" onClick="location.href='/petInfoList'">
                <input type="submit" class="btn btn-primary" value="登録"/>
            </div>
        </div>
    }
</div>
}

